<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geschiedenis verzamel Game</title>
    <style>
        body {
            font-family: "Verdana", sans-serif;
            background-color: #f4f4f4;
            color: #333;
            padding: 20px;
            max-width: 800px;
            margin: auto;
        }
        button {
            background-color: #007BFF;
            border: none;
            color: white;
            padding: 10px 15px;
            margin: 5px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }
        button:hover {
            background-color: #0056b3;
        }
        pre {
            background-color: #eaeaea;
            padding: 10px;
            border-radius: 5px;
            font-size: 16px;
        }
        div {
            margin: 10px 0;
            font-size: 18px;
        }
        #feedback {
            font-weight: bold;
            color: green;
        }
    </style>
</head>
<body>

<h1>üè∫ Geschiedenis Units</h1>

<div id="geldLabel"></div>
<div id="beurtLabel"></div>
<div id="inkomenLabel"></div>
<pre id="inventarisDiv"></pre>
<div id="feedback"></div>

<div id="buttons"></div>

<script>
    // [Naam, kans (%), inkomen per beurt]
    const units = [
        ["Boer", 40, 1],
        ["Middeleeuwse Soldaat", 25, 3],
        ["Romeinse Soldaat", 15, 8],
        ["Viking", 8, 15],
        ["Franse Soldaat (Napoleon)", 5, 30],
        ["Ridde¬≠r", 3, 60],
        ["Samurai", 2, 120],
        ["Spaanse Conquistador", 1.5, 250],
        ["Romeinse Generaal", 0.8, 500],
        ["Napoleon Bonaparte", 0.3, 2000],
        ["Julius Caesar", 0.15, 5000],
        ["Alexander de Grote", 0.045, 20000]
        ["Sun Tzu", 0.005, 200000]
    ];

    let inventaris = {};
    let geld = 100;
    let beurt = 1;
    const rolKosten = 25;

    const geldLabel = document.getElementById("geldLabel");
    const beurtLabel = document.getElementById("beurtLabel");
    const inkomenLabel = document.getElementById("inkomenLabel");
    const inventarisDiv = document.getElementById("inventarisDiv");
    const feedback = document.getElementById("feedback");
    const buttonsDiv = document.getElementById("buttons");

    const updateUI = () => {
        geldLabel.textContent = `üí∞ Geld: ${geld}`;
        beurtLabel.textContent = `üìÜ Beurt: ${beurt}`;
        inkomenLabel.textContent = `üìà Macht per beurt: ${berekenInkomen()}`;
        inventarisDiv.textContent = toonInventaris();
    };

    const getUnitInkomen = (name) => {
        for (let [unitNaam, , inkomen] of units) {
            if (unitNaam === name) return inkomen;
        }
        return 0;
    };

    const berekenInkomen = () => {
        let totaal = 0;
        for (let unit in inventaris) {
            totaal += getUnitInkomen(unit) * inventaris[unit];
        }
        return totaal;
    };

    const toonInventaris = () => {
        let resultaat = "";
        for (let naam in inventaris) {
            const aantal = inventaris[naam];
            const inkomen = getUnitInkomen(naam);
            const kans = getUnitKans(naam);
            resultaat += `- ${naam} x${aantal} (‚öîÔ∏è ${inkomen}/beurt, üé≤ kans: ${kans}%)\n`;
        }
        return resultaat || "Je hebt nog geen units.";
    };

    const getUnitKans = (name) => {
        for (let [unitNaam, kans] of units) {
            if (unitNaam === name) return kans;
        }
        return "?";
    };

    const rolUnit = () => {
        const roll = Math.random() * 100;
        let totaal = 0;
        for (let [name, kans] of units) {
            totaal += kans;
            if (roll <= totaal) return name;
        }
        return units[0][0];
    };

    const rolActie = (aantal = 1) => {
        if (geld < rolKosten * aantal) {
            feedback.textContent = "üö´ Niet genoeg geld!";
            return;
        }
        geld -= rolKosten * aantal;

        for (let i = 0; i < aantal; i++) {
            const unit = rolUnit();
            if (!inventaris[unit]) inventaris[unit] = 0;
            inventaris[unit]++;
        }

        feedback.textContent = `üéâ Je hebt ${aantal} unit(s) gerold!`;
        updateUI();
    };

    const volgendeBeurt = () => {
        const verdiend = berekenInkomen();
        geld += verdiend;
        beurt++;
        feedback.textContent = `‚úÖ Je rijk groeit met ${verdiend}!`;
        updateUI();
    };

    const volgendeBeurtMetDelay = () => {
        setTimeout(volgendeBeurt, 2000);
    };

    const maakKnop = (label, actie) => {
        const btn = document.createElement("button");
        btn.textContent = label;
        btn.onclick = actie;
        buttonsDiv.appendChild(btn);
    };

    maakKnop("üé≤ Rol x1", () => rolActie(1));
    maakKnop("üé≤ Rol x10", () => rolActie(10));
    maakKnop("üé≤ Rol x100", () => rolActie(100));
    maakKnop("üé≤ Rol x1000", () => rolActie(1000));
    maakKnop("‚û°Ô∏è Volgende Beurt", volgendeBeurtMetDelay);

    updateUI();
</script>

</body>
</html>
