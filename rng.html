<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Historische Units Game</title>
<style>
body {
    font-family: 'Segoe UI', Arial, sans-serif;
    background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
    color: white;
    text-align: center;
    padding: 20px;
}

h1 { margin-top: 20px; }

button {
    padding: 12px 20px;
    font-size: 16px;
    border-radius: 12px;
    border: none;
    background: gold;
    cursor: pointer;
    margin: 5px;
}
button:hover { opacity: 0.85; }

div#inventory {
    margin-top: 20px;
    white-space: pre-wrap;
    text-align: left;
    max-width: 500px;
    margin-left: auto;
    margin-right: auto;
    background: rgba(255,255,255,0.12);
    padding: 12px;
    border-radius: 12px;
}

div#feedback {
    margin-top: 20px;
    font-weight: bold;
    color: #ffe66d;
}

div#rewards {
    margin-top: 30px;
    font-size: 14px;
    color: #cccccc;
    max-width: 500px;
    margin-left: auto;
    margin-right: auto;
    text-align: left;
    line-height: 1.5;
}
</style>
</head>
<body>

<h1>üè∫ Historische Units Game</h1>

<div class="stats" id="geldLabel"></div>
<div class="stats" id="beurtLabel"></div>
<div class="stats" id="inkomenLabel"></div>
<div class="stats" id="rolKostenLabel"></div>

<div id="inventory"></div>
<div id="feedback"></div>
<div id="buttons"></div>

<!-- Beloningen overzicht -->
<div id="rewards">
    <strong>Beloningen voor nieuwe spelers:</strong>
    <ul>
        <li>Elke nieuwe unit die je krijgt = <strong>+2 gulden</strong></li>
        <li>Elke 100 beurten = <strong>+10 gulden</strong></li>
        <li>Units verdienen inkomen per beurt afhankelijk van hun kracht</li>
        <li>Roll-knoppen: x1, x10, x100, x1000</li>
    </ul>
</div>

<script>
    const units = [
        ["Boer", 40, 1],
        ["Middeleeuwse Soldaat", 15, 3],
        ["Romeinse Soldaat", 10, 8],
        ["Viking", 8, 15],
        ["Franse Soldaat (Napoleon)", 5, 30],
        ["Ridder", 3, 60],
        ["Samurai", 2, 120],
        ["Spaanse Conquistador", 1.5, 250],
        ["Romeinse Generaal", 0.8, 500],
        ["Napoleon Bonaparte", 0.3, 2000],
        ["Julius Caesar", 0.15, 5000],
        ["Alexander de Grote", 0.045, 20000],
        ["Sun Tzu", 0.005, 200000]
    ];

    let inventaris = JSON.parse(localStorage.getItem("gameInventory")) || {};
    let geld = localStorage.getItem("gameMoney") ? parseInt(localStorage.getItem("gameMoney")) : 100;
    let beurt = localStorage.getItem("gameTurn") ? parseInt(localStorage.getItem("gameTurn")) : 1;
    const rolKosten = 25;

    const geldLabel = document.getElementById("geldLabel");
    const beurtLabel = document.getElementById("beurtLabel");
    const inkomenLabel = document.getElementById("inkomenLabel");
    const rolKostenLabel = document.getElementById("rolKostenLabel");
    const inventarisDiv = document.getElementById("inventory");
    const feedback = document.getElementById("feedback");
    const buttonsDiv = document.getElementById("buttons");

    const updateUI = () => {
        geldLabel.textContent = `üí∞ Geld: ${geld}`;
        beurtLabel.textContent = `üìÜ Beurt: ${beurt}`;
        inkomenLabel.textContent = `üìà Macht per beurt: ${berekenInkomen()}`;
        rolKostenLabel.textContent = `üé≤ Roll kost: ${rolKosten} geld per unit`;
        inventarisDiv.textContent = toonInventaris();
    };

    const getUnitInkomen = (name) => {
        for (let [unitNaam,, inkomen] of units) {
            if (unitNaam === name) return inkomen;
        }
        return 0;
    };

    const berekenInkomen = () => {
        let totaal = 0;
        for (let unit in inventaris) {
            totaal += getUnitInkomen(unit) * inventaris[unit];
        }
        return totaal;
    };

    const toonInventaris = () => {
        let resultaat = "";
        for (let naam in inventaris) {
            const aantal = inventaris[naam];
            const inkomen = getUnitInkomen(naam);
            resultaat += `- ${naam} x${aantal} (‚öîÔ∏è ${inkomen}/beurt)\n`;
        }
        return resultaat || "Je hebt nog geen units.";
    };

    const rolUnit = () => {
        const roll = Math.random() * 100;
        let totaal = 0;
        for (let [name, kans] of units) {
            totaal += kans;
            if (roll <= totaal) return name;
        }
        return units[0][0];
    };

    const rolActie = (aantal = 1) => {
        const totaleKosten = rolKosten * aantal;
        if (geld < totaleKosten) {
            feedback.textContent = `üö´ Niet genoeg geld! (${totaleKosten} nodig)`;
            return;
        }

        geld -= totaleKosten;
        let nieuweUnits = 0;

        for (let i = 0; i < aantal; i++) {
            const unit = rolUnit();
            if (!inventaris[unit]) {
                inventaris[unit] = 0;
                geld += 2; // nieuwe unit = +2 gulden
            }
            inventaris[unit]++;
        }

        feedback.textContent = `üéâ Je hebt ${aantal} unit(s) gerold!`;
        updateUI();
    };

    const volgendeBeurt = () => {
        const verdiend = berekenInkomen();
        geld += verdiend;
        beurt++;

        // elke 100 beurten +10 gulden
        if (beurt % 100 === 0) {
            geld += 10;
            feedback.textContent = `‚úÖ Je rijk groeit met ${verdiend} geld en +10 bonus voor 100 beurten!`;
        } else {
            feedback.textContent = `‚úÖ Je rijk groeit met ${verdiend} geld!`;
        }

        updateUI();
    };

    const maakKnop = (label, actie) => {
        const btn = document.createElement("button");
        btn.textContent = label;
        btn.onclick = actie;
        buttonsDiv.appendChild(btn);
    };

    maakKnop("üé≤ Rol x1 (25)", () => rolActie(1));
    maakKnop("üé≤ Rol x10 (250)", () => rolActie(10));
    maakKnop("üé≤ Rol x100 (2500)", () => rolActie(100));
    maakKnop("üé≤ Rol x1000 (25000)", () => rolActie(1000));
    maakKnop("‚û°Ô∏è Volgende Beurt", volgendeBeurt);

    updateUI();
</script>
</body>
</html>
