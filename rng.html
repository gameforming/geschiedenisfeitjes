<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Geschiedenis RNG</title>
<style>
body {
    font-family: Verdana, sans-serif;
    background-color: #f4f4f4;
    color: #333;
    padding: 20px;
    max-width: 800px;
    margin: auto;
    text-align: center;
}
button {
    background-color: #007BFF;
    border: none;
    color: white;
    padding: 10px 15px;
    margin: 5px;
    border-radius: 5px;
    cursor: pointer;
    font-size: 16px;
}
button:hover { background-color: #0056b3; }
pre {
    background-color: #eaeaea;
    padding: 10px;
    border-radius: 5px;
    text-align: left;
    font-size: 16px;
}
#feedback { font-weight: bold; margin-top: 10px; color: green; }
</style>
</head>
<body>

<h1>ðŸŽ² Geschiedenis Units RNG</h1>

<div id="moneyLabel"></div>
<div id="timerLabel"></div>
<pre id="inventory"></pre>
<div id="feedback"></div>
<div id="buttons"></div>

<button onclick="goBack()">â¬… Terug naar Games</button>

<script>
// ================== DATA ==================
const unitsList = [
    ["Romeinse Soldaat", 60, 1],
    ["Franse Soldaat", 20, 2],
    ["Middeleeuwse Ridder", 10, 5],
    ["Viking", 5, 10],
    ["Napoleon Bonaparte", 2, 50],
    ["Julius Caesar", 1, 100],
    ["Alexander de Grote", 0.5, 250],
    ["Cleopatra", 0.3, 500],
    ["Sun Tzu", 0.1, 1000],
    ["Leonardo da Vinci", 0.05, 2000],
    ["Christoffel Columbus", 0.02, 5000],
    ["Willem de Veroveraar", 0.01, 10000]
];

// ================== STATE ==================
let inventory = {};
let macht = 100; // start macht
const rollCost = 25;
const PAYOUT_INTERVAL = 10;
let timeLeft = PAYOUT_INTERVAL;

// ================== UI ELEMENTS ==================
const moneyLabel = document.getElementById("moneyLabel");
const timerLabel = document.getElementById("timerLabel");
const inventoryDiv = document.getElementById("inventory");
const feedback = document.getElementById("feedback");
const buttonsDiv = document.getElementById("buttons");

// ================== FUNCTIES ==================
function updateUI() {
    moneyLabel.innerText = "ðŸ’° Macht: " + macht;
    timerLabel.innerText = "â³ Volgende payout over: " + timeLeft + "s";

    inventoryDiv.innerText =
        Object.keys(inventory).length
        ? Object.entries(inventory).map(u => `- ${u[0]} x${u[1]} (ðŸ’° ${getIncome(u[0])})`).join("\n")
        : "Nog geen units";
}

function getIncome(name) {
    for (let [unitName,, income] of unitsList) {
        if (unitName === name) return income;
    }
    return 0;
}

function rollUnit() {
    const roll = Math.random() * 100;
    let total = 0;
    for (let [name, chance] of unitsList) {
        total += chance;
        if (roll <= total) return name;
    }
    return unitsList[0][0];
}

function roll(times) {
    const totalCost = rollCost * times;
    if (macht < totalCost) {
        feedback.innerText = `âŒ Niet genoeg macht! (${totalCost} nodig)`;
        return;
    }

    macht -= totalCost;

    for (let i = 0; i < times; i++) {
        const unit = rollUnit();
        inventory[unit] = (inventory[unit] || 0) + 1;
    }

    feedback.innerText = `ðŸŽ‰ Je hebt ${times} unit(s) gerold!`;
    updateUI();
}

function payout() {
    let earned = 0;
    for (let unit in inventory) earned += getIncome(unit) * inventory[unit];
    macht += earned;
    feedback.innerText = `ðŸ’¸ Je kreeg ${earned} macht als payout!`;
    updateUI();
}

// ================== TIMER ==================
setInterval(() => {
    timeLeft--;
    if (timeLeft <= 0) {
        payout();
        timeLeft = PAYOUT_INTERVAL;
    }
    updateUI();
}, 1000);

// ================== KNOPPEN ==================
function createButton(label, times) {
    const btn = document.createElement("button");
    btn.innerText = label;
    btn.onclick = () => roll(times);
    buttonsDiv.appendChild(btn);
}

createButton("ðŸŽ² Roll x1", 1);
createButton("ðŸŽ² Roll x10", 10);
createButton("ðŸŽ² Roll x100", 100);
createButton("ðŸŽ² Roll x1000", 1000);

// ================== TERUGKNOP ==================
function goBack() {
    window.location.href = "games.html";
}

updateUI();
</script>
</body>
</html>
